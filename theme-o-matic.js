function calculateSettingAsThemeString({localStorageTheme:e,systemSettingDark:t}){return null!==e?e:t.matches?"dark":"light"}function updateThemeOnHtmlEl({theme:e}){document.querySelector("html").setAttribute("data-theme",e)}const button=document.querySelector("[theme-o-matic]"),localStorageTheme=localStorage.getItem("theme"),systemSettingDark=window.matchMedia("(prefers-color-scheme: dark)");let currentThemeSetting=calculateSettingAsThemeString({localStorageTheme:localStorageTheme,systemSettingDark:systemSettingDark});updateThemeOnHtmlEl({theme:currentThemeSetting}),button&&button.addEventListener("click",(()=>{const e="dark"===currentThemeSetting?"light":"dark";localStorage.setItem("theme",e),updateThemeOnHtmlEl({theme:e}),currentThemeSetting=e}));